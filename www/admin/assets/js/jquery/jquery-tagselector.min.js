/*!
 * Tag Selector plugin for jQuery: Facilitates selecting multiple tags by extending jQuery UI Autocomplete.
 * You may use Tag Selector under the terms of either the MIT License or the GNU General Public License (GPL) Version 2.
 * https://petprojects.googlecode.com/svn/trunk/MIT-LICENSE.txt
 * https://petprojects.googlecode.com/svn/trunk/GPL-LICENSE.txt
 */(function(e){e.fn.tagSelector=function(t,n){return this.each(function(){var r=e(this),i=e("input[type=text]",this);r.click(function(){i.focus()}).delegate(".tag a","click",function(){e(this).parent().remove()});i.keydown(function(t){t.keyCode===e.ui.keyCode.TAB&&e(this).data("autocomplete").menu.active&&t.preventDefault();if(t.keyCode===e.ui.keyCode.ENTER){t.preventDefault();i.val(e.trim(i.val()));if(i.val()!="")var r=e('<span class="tag"/>').text(i.val()+" ").append('<a><i class="icon-remove-sign"></i></a>').append(e('<input type="hidden"/>').attr("name",n).val(i.val())).insertBefore(i);i.val("")}}).autocomplete({minLength:0,source:t,select:function(t,r){var s=e('<span class="tag"/>').text(r.item.toString()+" ").append('<a><i class="icon-remove-sign"></i></a>').append(e('<input type="hidden"/>').attr("name",n).val(r.item.id)).insertBefore(i);i.val("");return!0}});i.data("ui-autocomplete")._renderItem=function(t,n){return e("<li/>").data("item.autocomplete",n).append(e("<a/>").text(n.toString())).appendTo(t)};i.data("ui-autocomplete")._resizeMenu=function(e,t){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth(),r.outerWidth()))}})}})(jQuery);